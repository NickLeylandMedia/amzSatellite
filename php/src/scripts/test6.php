<?php

// Replace these values with your actual eBay API credentials
$client_id = 'BlackHal-Shipstat-PRD-1e6e3d7c5-85a1ff0b';
$client_secret = 'PRD-e6e3d7c501b5-bb65-4651-bbc8-0aec';
$access_token = 'v^1.1#i^1#r^0#I^3#f^0#p^3#t^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';

// eBay API endpoint for order retrieval
$order_api_url = 'https://api.ebay.com/sell/fulfillment/v1/order';

// Define the headers
$headers = [
  'Authorization: Bearer ' . $access_token,
  'Content-Type: application/json',
  'Accept: application/json'
];

// Define the parameters for the API call
// $params = [
//   'filter' => 'orderfulfillmentstatus:FULFILLED' // Example filter
// ];

// Initialize cURL
$ch = curl_init();

// Set the cURL options
curl_setopt($ch, CURLOPT_URL, $order_api_url);
curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

// Execute the API request
$response = curl_exec($ch);

// Check if the request was successful
if (curl_errno($ch)) {
  echo 'Error: ' . curl_error($ch);
} else {
  $http_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);
  if ($http_code == 200) {
    // Parse the JSON response
    $orders = json_decode($response, true);
    echo '<pre>' . json_encode($orders, JSON_PRETTY_PRINT) . '</pre>';
  } else {
    echo 'Error: ' . $http_code;
    echo '<pre>' . json_encode(json_decode($response, true), JSON_PRETTY_PRINT) . '</pre>';
  }
}

// Close the cURL session
curl_close($ch);
